# Build-time constants

> Typed build-time constants provided by webpack.

This folder contains the definitions for the data defined in build-time. This data will be available as global constants in their specified context, depending on the file where it's declared.

Type definition for the constants are declared in the [constants.d.ts](./constants.js), while their values are separated in two different files:

- [data/constants.js](./data/constants.js)
- [data/secrets.js](./data/secrets.js)

The main difference is that the files named `secrets.js` are not going to be included in the git repository, making them perfect for declaring API keys, passowrds, etc.

The build process also provide some constants automatically defined and their types are declared in [build.d.ts](./build.d.ts). Since this is inherent to the build process, do not edit this files by hand.

## Environment variables

### PRINT_CONSTANTS

To output in the console the values used in the build, just use the environment variable `PRINT_CONSTANTS` to `true` when executing `npm run build` or `npm run dev` like this:

```
PRINT_CONSTANTS=true npm run build
```

```
PRINT_CONSTANTS=true npm run dev
```

### CONSTANTS_SUBFOLDERS

By default, the values used for the constants are loaded from [build-time-constants/data](./data), but that can be configuring by setting the `CONSTANTS_SUBFOLDERS` environment variable.

Since it accepts a comma-separated list of folders relative to the `build-time-constants` one (being just `data` the default value), specifying more than one folder is allowed:

```
CONSTANTS_SUBFOLDERS=base,prod npm run build
```

In this case, the files from the first one will be used as base, the files in the second one will overwrite the first one, and so on. This allow defining common data in one folder and then use specific configuration for different environments (such as _staging_ or _production_).

Note that `data` is the default folder, but if `CONSTANTS_SUBFOLDERS` is specified, it won't be included unless explicitly defined (i.e. `CONSTANTS_SUBFOLDERS=data,prod`)

While the actual provided values can be customized, the data definition (types) will always be read from the `.d.ts` files placed in the [build-time-constants](./) folder.
